<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="ReactionTestStyle.css">
    </head>
<script>
    var canvas = document.getElementById("ballCanvas");
    var context;
    
    var canvasWidth=window.innerWidth;
    var canvasHeight=800;
    
    canvas.style.width=canvasWidth;
    canvas.style.setHeight=canvasHeight;
    canvas.width=canvasWidth;
    canvas.setHeight=canvasHeight;
    
    console.log("Canvas width is " + canvas.width);
    
    //Positions
    var x=canvasWidth/2;
    var y=0;
    

    
    //Change in vertical position
    var dy=5;
    var myInterval;

    function init()
    {
        context= ballCanvas.getContext('2d');
        myInterval = setInterval(bounceBall,20);
    }

    function bounceBall()
    {
        context.clearRect(0,0,canvasWidth,canvasHeight);
        context.fillStyle="white";
        
        context.fillRect(0,(canvasHeight*2/5),canvasWidth,(canvasHeight/5));
        
        context.fillStyle="black";
        
        // Draws a circle of radius 20
        context.beginPath();
        context.arc(x,y,20,0,Math.PI*2,true);
        context.closePath();
        context.fill();
        if( y<0 || y>canvasHeight) dy=-dy;
        y+=dy;
    }
    
    function buttonHandler()
    {
       if( y>(canvasHeight*2/5) && y<((canvasHeight*3/5)))
           {
               clearInterval(myInterval);
           }
    }

</script>
<body onLoad="init();">
    <div class="flex-container">
        <div><canvas id="ballCanvas"></canvas></div>
        <div><button onclick="buttonHandler();">GO!</button></div>
    </div>
</body>
</html>
